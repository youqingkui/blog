// Generated by CoffeeScript 1.10.0
(function() {
  var Evernote, client, developerToken, htmlToText, noteStore;

  Evernote = require('evernote').Evernote;

  developerToken = process.env.DeveloperToken;

  htmlToText = require('html-to-text');

  client = new Evernote.Client({
    token: developerToken
  });

  noteStore = client.getNoteStore('https://app.yinxiang.com/shard/s5/notestore');

  exports.listNotebooks = function(req, res, next) {
    return noteStore.listNotebooks(function(err, notebooks) {
      var book, i, len;
      if (err) {
        console.log(err);
      }
      if (err) {
        return next(err);
      }
      for (i = 0, len = notebooks.length; i < len; i++) {
        book = notebooks[i];
        console.log(book.guid, book.name);
      }
      return res.send("ok");
    });
  };

  exports.getNoteContent = function(req, res, next) {
    return noteStore.getNoteContent('237aa896-07a4-41df-a833-a340011ef300', function(err, content) {
      var text;
      if (err) {
        return next(err);
      }
      console.log(content);
      console.log("");
      text = htmlToText.fromString(content);
      console.log(text);
      return res.send("ok get");
    });
  };

  exports.getNote = function(req, res, next) {
    return noteStore.getNote;
  };

}).call(this);

//# sourceMappingURL=sync.server.controller.js.map
